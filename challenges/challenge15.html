<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>challenge15</title>
  </head>
  <body>
    <script>
      class Poll {
        constructor(question, options) {
          this.question = question;
          this.options = options;
          this.answers = new Array(options.length).fill(0);
        }

        registerNewAnswer() {
          const answer = prompt(
            `${this.question}\n${this.options.join(
              "\n"
            )}\n(Write option number)`
          );
          const answerNumber = parseInt(answer);

          if (
            !isNaN(answerNumber) &&
            answerNumber >= 0 &&
            answerNumber < this.answers.length
          ) {
            this.answers[answerNumber]++;
            this.displayResults();
          } else {
            alert("Invalid input. Please enter a valid option number.");
          }
        }

        displayResults(type = "array") {
          if (type === "array") {
            console.log(this.answers);
          } else if (type === "string") {
            console.log(`Poll results are ${this.answers.join(", ")}`);
          } else {
            console.error(
              'Invalid display type. Please use "array" or "string".'
            );
          }
        }
      }

      // Example usage:
      const poll = new Poll("What is your favourite programming language?", [
        "0: JavaScript",
        "1: Python",
        "2: Rust",
        "3: C++",
      ]);

      poll.registerNewAnswer();
      poll.displayResults("string");
      // poll.registerNewAnswer();
      // poll.displayResults("string");
      // poll.registerNewAnswer();
      // poll.displayResults("string");
    </script>
  </body>
</html>
